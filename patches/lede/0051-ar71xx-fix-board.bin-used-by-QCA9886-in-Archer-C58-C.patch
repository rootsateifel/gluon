From 5029fea58a11cd4ece621d3b3580f55af5c6bcd5 Mon Sep 17 00:00:00 2001
From: Henryk Heisig <hyniu@o2.pl>
Date: Thu, 29 Jun 2017 15:38:22 +0200
Subject: [PATCH] ar71xx: fix board.bin used by QCA9886 in Archer C58/C59/C60

Signed-off-by: Henryk Heisig <hyniu@o2.pl>
---
 target/linux/ar71xx/base-files/etc/hotplug.d/firmware/11-ath10k-caldata | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/target/linux/ar71xx/base-files/etc/hotplug.d/firmware/11-ath10k-caldata b/target/linux/ar71xx/base-files/etc/hotplug.d/firmware/11-ath10k-caldata
index 669b8d3387..30f148655d 100644
--- a/target/linux/ar71xx/base-files/etc/hotplug.d/firmware/11-ath10k-caldata
+++ b/target/linux/ar71xx/base-files/etc/hotplug.d/firmware/11-ath10k-caldata
@@ -136,6 +136,8 @@ case "$FIRMWARE" in
 	archer-c59-v1|\
 	archer-c60-v1)
 		ath10kcal_extract "art" 20480 12064
+		ln -sf /lib/firmware/ath10k/pre-cal-pci-0000\:00\:00.0.bin \
+			/lib/firmware/ath10k/QCA9888/hw2.0/board.bin
 		;;
 	esac
 	;;
-- 
2.15.0

